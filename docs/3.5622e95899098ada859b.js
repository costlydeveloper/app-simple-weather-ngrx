(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{nAyT:function(t,e,i){"use strict";i.r(e),i.d(e,"WeatherPageModule",function(){return A});var s=i("ofXK"),c=i("tyNb"),r=i("kt0X"),n=i("EVF3"),a=i("Yjic"),o=i("JT+w"),b=i("zM/C"),h=i("fXoL"),p=i("+oi5"),l=i("f9xf"),u=i("DXeK"),d=i("JmwE"),m=i("lVkt"),y=i("3Pt+");let f=(()=>{class t{constructor(){this.selectedCities=new h.n,this.selected=[]}submit(){this.selectedCities.emit(this.selected)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Fb({type:t,selectors:[["app-city-multiselect"]],inputs:{cities$:"cities$"},outputs:{selectedCities:"selectedCities"},decls:6,vars:4,consts:[["optionLabel","name","defaultLabel","Select a City",1,"multiselect-cities",3,"options","ngModel","ngModelChange"],[1,"btn","btn-success","submit-city",3,"click"]],template:function(t,e){1&t&&(h.Rb(0,"h5"),h.Ac(1,"Select the city"),h.Qb(),h.Rb(2,"p-multiSelect",0),h.Yb("ngModelChange",function(t){return e.selected=t}),h.bc(3,"async"),h.Qb(),h.Rb(4,"button",1),h.Yb("click",function(){return e.submit()}),h.Ac(5,"Submit"),h.Qb()),2&t&&(h.Ab(2),h.gc("options",h.cc(3,2,e.cities$))("ngModel",e.selected))},directives:[m.a,y.e,y.h],pipes:[s.b],styles:[".multiselect-cities[_ngcontent-%COMP%]{width:400px}.submit-city[_ngcontent-%COMP%]{margin-left:5px;height:42px;margin-top:-3px}"]}),t})(),g=(()=>{class t{constructor(t,e){this.store=t,this.router=e,this.selectedCities=[],this.toastNotification=new l.a,this.subscriptions=[]}ngOnInit(){this.store.dispatch(new d.a),this.cities$=this.store.pipe(Object(r.p)(n.b)),this.loader$=this.store.pipe(Object(r.p)(n.a)),this.subscriptions.push(this.cities$.subscribe(t=>{})),this.subscriptions.push(this.loader$.subscribe(t=>{}))}selectedCitiesTrigger(t){let e="";t.forEach((t,i,s)=>{e+=t.id,i<s.length-1&&(e+=",")}),e?(this.store.dispatch(new u.a({ids:e})),this.router.navigateByUrl("/weather")):this.toastNotification.forceSingleToast("Notice!","City is not selected!",p.a.INFO)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(r.h),h.Lb(c.f))},t.\u0275cmp=h.Fb({type:t,selectors:[["app-city"]],decls:1,vars:1,consts:[[3,"cities$","selectedCities"]],template:function(t,e){1&t&&(h.Rb(0,"app-city-multiselect",0),h.Yb("selectedCities",function(t){return e.selectedCitiesTrigger(t)}),h.Qb()),2&t&&h.gc("cities$",e.cities$)},directives:[f],encapsulation:2}),t})();var v=i("6ZLe"),w=i("8vb6");let I=(()=>{class t{constructor(t){this.store=t,this.check=!0,this.store.dispatch(new b.e)}addRemoveFavorite(t,e){this.store.dispatch(e.target.checked?new b.a(t):new b.c(t))}favoritesFormTrigger(t){}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(r.h))},t.\u0275cmp=h.Fb({type:t,selectors:[["app-city-weather-item"]],inputs:{cityWeatherItem:"cityWeatherItem",isFavorite:"isFavorite"},decls:24,vars:10,consts:[[1,"card","pointer"],[1,"card-body"],[3,"change"],["myFavoritesForm","ngForm"],[1,"row",3,"routerLink"],[1,"col-md-12"],[1,"card-title"],[1,"col-md-6"],[1,"card-text"],[1,"list-group","list-group-flush"],[1,"inline-list-item"],[3,"src"],[1,"card-text","first-capital"],[1,"form-check-block"],["type","checkbox",1,"p-checkbox",3,"id","name","ngModel","ngModelChange","change"],[1,"p-checkbox-label",3,"for"]],template:function(t,e){if(1&t){const t=h.Sb();h.Rb(0,"div",0),h.Rb(1,"div",1),h.Rb(2,"form",2,3),h.Yb("change",function(){h.tc(t);const i=h.sc(3);return e.favoritesFormTrigger(i.value)}),h.Rb(4,"div",4),h.Rb(5,"div",5),h.Rb(6,"h5",6),h.Ac(7),h.Qb(),h.Qb(),h.Rb(8,"div",7),h.Rb(9,"p",8),h.Ac(10),h.Qb(),h.Qb(),h.Rb(11,"div",7),h.Rb(12,"ul",9),h.Rb(13,"li",10),h.Mb(14,"img",11),h.Qb(),h.Rb(15,"li",10),h.Ac(16),h.Qb(),h.Qb(),h.Qb(),h.Rb(17,"div",5),h.Rb(18,"p",12),h.Ac(19),h.Qb(),h.Qb(),h.Qb(),h.Rb(20,"div",13),h.Rb(21,"input",14),h.Yb("ngModelChange",function(t){return e.isFavorite=t})("change",function(t){return e.addRemoveFavorite(e.cityWeatherItem.id,t)}),h.Qb(),h.Rb(22,"label",15),h.Ac(23,"Favorite"),h.Qb(),h.Qb(),h.Qb(),h.Qb(),h.Qb()}2&t&&(h.Ab(4),h.ic("routerLink","/weather/",null==e.cityWeatherItem?null:e.cityWeatherItem.name.toLowerCase(),""),h.Ab(3),h.Bc(null==e.cityWeatherItem?null:e.cityWeatherItem.name),h.Ab(3),h.Bc(e.cityWeatherItem.weather[0].main),h.Ab(4),h.ic("src","http://openweathermap.org/img/w/",e.cityWeatherItem.weather[0].icon,".png",h.vc),h.Ab(2),h.Cc("C\xb0 ",e.cityWeatherItem.main.temp,""),h.Ab(3),h.Bc(e.cityWeatherItem.weather[0].description),h.Ab(2),h.ic("id","favorite-",null==e.cityWeatherItem?null:e.cityWeatherItem.id,""),h.ic("name","favorite-",null==e.cityWeatherItem?null:e.cityWeatherItem.id,""),h.gc("ngModel",e.isFavorite),h.Ab(1),h.ic("for","favorite-",null==e.cityWeatherItem?null:e.cityWeatherItem.id,""))},directives:[y.i,y.f,y.g,c.g,y.a,y.e,y.h],styles:[".inline-list-item[_ngcontent-%COMP%]{list-style:none;text-align:center}.first-capital[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}.p-checkbox-label[_ngcontent-%COMP%]{top:-4px;position:relative}.form-check-block[_ngcontent-%COMP%]{border-top:1px solid #929292;margin-top:10px;padding-top:10px}"]}),t})();function R(t,e){if(1&t&&(h.Pb(0),h.Rb(1,"div",4),h.Mb(2,"app-city-weather-item",5),h.bc(3,"async"),h.Qb(),h.Ob()),2&t){const t=h.ac().$implicit,e=h.ac();h.Ab(2),h.gc("isFavorite",h.cc(3,2,e.favorites$).cityIDs.indexOf(t.id)>-1)("cityWeatherItem",t)}}function Q(t,e){if(1&t&&(h.yc(0,R,4,4,"ng-container",3),h.bc(1,"async")),2&t){const t=h.ac();h.gc("ngIf",!h.cc(1,1,t.loader$))}}let C=(()=>{class t{constructor(t){this.store=t,this.subscriptions=[]}ngOnInit(){this.store.dispatch(new u.a({ids:""})),this.citiesWeather$=this.store.pipe(Object(r.p)(w.b)),this.favorites$=this.store.pipe(Object(r.p)(v.a)),this.loader$=this.store.pipe(Object(r.p)(w.a)),this.subscriptions.push(this.citiesWeather$.subscribe(t=>{})),this.subscriptions.push(this.favorites$.subscribe(t=>{}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(r.h))},t.\u0275cmp=h.Fb({type:t,selectors:[["app-city-weather"]],decls:4,vars:3,consts:[[1,"container"],[1,"row","hidden-md-up"],["ngFor","",3,"ngForOf"],[4,"ngIf"],[1,"col-md-3","mb-4"],[3,"isFavorite","cityWeatherItem"]],template:function(t,e){1&t&&(h.Rb(0,"div",0),h.Rb(1,"div",1),h.yc(2,Q,2,3,"ng-template",2),h.bc(3,"async"),h.Qb(),h.Qb()),2&t&&(h.Ab(2),h.gc("ngForOf",h.cc(3,1,e.citiesWeather$)))},directives:[s.j,s.k,I],pipes:[s.b],encapsulation:2}),t})();var O=i("rw11");function W(t,e){1&t&&h.Mb(0,"app-city-weather")}function F(t,e){if(1&t&&h.Mb(0,"app-daily-weather",5),2&t){const t=h.ac();h.gc("dayParam",t.dayParam)("cityID",t.city.id)}}const $=[{path:"",component:(()=>{class t{constructor(t,e){this.route=t,this.store=e,this.subscriptions=[]}ngOnInit(){this.store.dispatch(new b.e),this.cities$=this.store.pipe(Object(r.p)(n.b)),this.dailyWeatherLoader$=this.store.pipe(Object(r.p)(o.b)),this.citiesDailyWeather$=this.store.pipe(Object(r.p)(o.a)),this.subscriptions.push(this.route.paramMap.subscribe(t=>{this.cityParam=t.get("city-name"),this.dayParam=t.get("day"),this.subscriptions.push(this.cities$.subscribe(t=>{this.city=t.find(t=>t.name.toLowerCase()===this.cityParam.toLowerCase()),this.city&&this.store.dispatch(new a.a({id:this.city.id}))}))}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(c.a),h.Lb(r.h))},t.\u0275cmp=h.Fb({type:t,selectors:[["app-weather-container"]],decls:9,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"p-3"],[4,"ngIf"],[3,"dayParam","cityID",4,"ngIf"],[3,"dayParam","cityID"]],template:function(t,e){1&t&&(h.Rb(0,"div",0),h.Rb(1,"div",1),h.Rb(2,"div",2),h.Mb(3,"app-city"),h.Qb(),h.Qb(),h.Qb(),h.Rb(4,"div",0),h.Rb(5,"div",1),h.Rb(6,"div",2),h.yc(7,W,1,0,"app-city-weather",3),h.yc(8,F,1,2,"app-daily-weather",4),h.Qb(),h.Qb(),h.Qb()),2&t&&(h.Ab(7),h.gc("ngIf",!e.city),h.Ab(1),h.gc("ngIf",e.city))},directives:[g,s.k,C,O.a],styles:[""]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(e){return new(e||t)},imports:[[c.j.forChild($)],c.j]}),t})(),A=(()=>{class t{}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(e){return new(e||t)},imports:[[s.c,M]]}),t})()}}]);